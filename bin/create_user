#!/usr/bin/env ruby

require 'mongo'
require 'cherry_silt'

client = Mongo::Client.new(['127.0.0.1:27017'], database: 'mud')

client[:player].drop

[
  { name: 'test1', password: 'test1' },
  { name: 'test2', password: 'test2' },
  { name: 'test3', password: 'test3' },
  { name: 'test4', password: 'test4' }
].each do |user|
  p = CherrySilt::Player.new user[:name]
  p.encrypt_passwd user[:password]
  client[:player].insert_one(p.to_h)
end
